<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue 3 basics</title>

    <style>
        [v-clocik]{
           display: none;
        }

        .login-form{
            margin-top: 20px;
            padding: 10px;
            border: 1px solid black;
            width: 200px;
            display: flex;
            flex-direction: column;
        }
        .login-form div{
            font-weight: bold;
            margin-bottom: 10px;
        }
        .login-form input{
            margin-bottom: 10px;
            padding: 5px;
        }
        .login-form button{
            padding: 5px;
            background-color: blue;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="app" v-clock>
      
        <login-form />

    </div>
    

<script src="../vue-cdn/vue.global.js"></script>
<!-- components in vue -->
 <!-- covering topics like loops and passing data from child component to parent or vice versa -->

<script>

    let app = Vue.createApp({

        data: function(){
            return {
               
            }

        },
        methods: {
           
        }

        });

    app.component('login-form', {
            template: `
            <form class="login-form" @submit="submitForm">
            <h1>{{ title }}</h1>
             <custom-input
             v-for="(input,i) in inputs" v-bind:key="i"
              v-model='input.value'
              v-bind:label="input.label"
              v-bind:type="input.type"
              />
            <button type="submit">Login</button>
            </form>
            ` ,
            component: ['custom-input'],
            data: function(){
                return {
                    title: "my loop login form",
                    inputs: [
                        {
                          label: "Email",
                          value: "",
                          type: "email"
                        },
                         {
                          label: "Password",
                          value: "",
                          type: "password"
                        }

                    ],
                    email:"",
                    password:" ",
                    emailLabel:"Email",
                    passwordLabel:"Password"
                }
            },
            methods:{
                submitForm: function(event){
                event.preventDefault();
                console.log("form submitted");
                console.log("Form submitted!\nEmail: " + this.inputs[0].value + "\nPassword: " + this.inputs[1].value);
                }
            }
        });
    
        app.component('custom-input',{
            template: `
            <label>{{label}}</label>
         <input v-bind:type="type" v-model="inputValue"/>
            `,
            props:['label','type', 'modelValue'],
            computed: {
                inputValue: {
                    get(){
                        return this.modelValue;
                    },
                    set(value){
                       this.$emit('update:modelValue', value);
                    }
                }
              }
            // data: function(){

            //     return {
            //         inputValue: ""
            //     }
            // }
        })
        app.mount("#app");

</script>
</body>
</html>